# [TIL] 2020-04-11

## π μ¤ν”„λ§ ν”„λ μ„μ›ν¬ μ…λ¬Έ κ°•μ
### π“ IoC(Inversion of Control) μ»¨ν…μ΄λ„
> `ApplicationContext`λΌλ” IoC μ»¨ν…μ΄λ„λ” μλ™μΌλ΅ μƒμ„±λμ–΄ (μ¤μ¤λ΅) λΉμΌλ΅ λ“±λ΅λλ‹¤. μ—­ν• μ€ λ‹¤λ¥Έ λΉμ„ κ΄€λ¦¬ν•κ³ , μμ΅΄μ„±(λ‚΄λ¶€μ—μ„ ν•„μ”ν• λ‹¤λ¥Έ κ°μ²΄/λΉ)μ΄ μλ” κ²½μ° ν•„μ”ν• κ°μ²΄λ¥Ό μƒμ„±μλ΅ μ „λ‹¬ν•λ” κ²ƒμ΄λ‹¤.  

- `ApplicationContext` (BeanFactory)
- λΉ(bean)μ„ λ§λ“¤μ–΄μ£Όκ³ , μ—®μ–΄μ£Όκ³ , μ κ³µν•΄μ¤€λ‹¤.
	- λΉμ€ IoC μ»¨ν…μ΄λ„ λ‚΄λ¶€μ—μ„ ν•΄λ‹Ή κ°μ²΄λ¥Ό λ§λ“¤κ³  κ°μ²΄λ“¤ μ‚¬μ΄μ μμ΅΄μ„±μ„ μ—®μ–΄μ¤€λ‹¤.
	- ν•„μ”ν• μμ΅΄μ„±μ„ λ§λ“¤μ–΄μ„ μƒμ„±μλ΅ μ „λ‹¬ν•΄μ¤€λ‹¤.
- μ•„μ΄λ¬λ‹ν•κ²λ„ μ§μ ‘ λ³Ό μΌλ„ μ μ—†κ³ , μ§μ ‘ μ“Έ μΌλ„ λ§μ§€ μ•λ‹¤.
	- IoC μ»¨ν…μ΄λ„ μμ²΄κ°€ λΉμΌλ΅ λ“±λ΅λμ–΄ μμ–΄μ„, λ³΄κ³  μ‹¶μΌλ©΄ `@Autowired`λ΅ μ£Όμ…ν•΄μ„ λ³Ό μ μλ‹¤.
- IntelliJμ—μ„ μ†(λΌμΈλ„λ²„)μ— μ½©μ΄ μμΌλ©΄ λΉμ΄λ‹¤.
	- `@Controller`, `@Component`, `@Service` μ–΄λ…Έν…μ΄μ…μ΄ λ¶™μ–΄μμΌλ©΄ μ»΄ν¬λ„νΈ μ¤μΊ”μΌλ΅ λΉμΌλ΅ λ“±λ΅λ¨

### π“ λΉ(Bean)
* μ¤ν”„λ§ IoC μ»¨ν…μ΄λ„κ°€ κ΄€λ¦¬ν•λ” κ°μ²΄
* **λ“±λ΅ν•λ” λ°©λ²•** : Component Scanning, XMLμ΄λ‚ μλ°” μ„¤μ • νμΌμ— λ“±λ΅
	* `@SpringBootApplication`μ€ `@ComponentScan` μ• λ…Έν…μ΄μ…μ„ κ°€μ§„λ‹¤.
	* `@Bean` μ• λ…Έν…μ΄μ…μ„ λ¶™μ΄λ©΄ μ§μ ‘ λ“±λ΅ν•  μ μμ
		* `@Bean` μ• λ…Έν…μ΄μ…μ„ λ©”μ„λ“μ— λ¶™μΌ κ²½μ° `@Configuration` μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤ μ•„λμ—¬μ•Ό ν•λ‹¤.
		* β… λ©”μ„λ“μ— λΉμ„ λ“±λ΅ν•λ” κ²ƒμ€ λ¬΄μ¨ κ²½μ°?
* Component Scanning : λ¨λ“  ν¨ν‚¤μ§€μ— `@Component` μ• λ…Έν…μ΄μ…μ΄ λ¶™μ€ ν΄λμ¤λ¥Ό λΉμΌλ΅ λ“±λ΅ν•¨.
	* μ•„λ μ„Έ κ°μ μ• λ…Έν…μ΄μ…μ€ `@Component` μ• λ…Έν…μ΄μ…μ„ κ°€μ§„λ‹¤.
	* `@Repository`
	* `@Service`
	* `@Controller`
* μ• λ…Έν…μ΄μ… μμ²΄μ—λ” κΈ°λ¥μ΄ μ—†λ‹¤. μ£Όμ„κ³Όλ„ κ°™μ. μ• λ…Έν…μ΄μ…μ„ λ§μ»¤λ΅ μ‚¬μ©ν•΄μ„ μ²λ¦¬ν•λ” ν”„λ΅μ„Έμ„κ°€ μλ” κ²ƒ.
* κΊΌλ‚΄ μ“°λ” λ°©λ²• : `@Autowired`, `@Inject`, `ApplicationContext.getBean()`
* β οΈ IoC μ»¨ν…μ΄λ„λ” λΉμ μμ΅΄μ„±λ§ κ΄€λ¦¬ν•΄μ£Όκ³ , λΉμ΄ μ•„λ‹ ν΄λμ¤μ μμ΅΄μ„±μ€ κ΄€λ¦¬ν•΄μ£Όμ§€ μ•λ”λ‹¤.

### π“ μμ΅΄μ„± μ£Όμ…(Dependency Injection)
* ν•„μ”ν• μμ΅΄μ„±μ„ μ–΄λ–»κ² λ°›μ•„μ¬ κ²ƒμΈκ°€(`@Autowired`μ™€ `@Inject`λ¥Ό μ–΄λ””μ— λ¶™μΌκΉ?)
* λΉμ μƒμ„±μκ°€ **ν•λ‚λ§ μκ³ ** νλΌλ―Έν„° νƒ€μ…μ΄ λΉμΌλ΅ λ“±λ΅λμ–΄ μμΌλ©΄, `@Autowired` μ• λ…Έν…μ΄μ…μ΄ μ—†μ–΄λ„ λΉμ„ μ£Όμ…ν•΄μ¤€λ‹¤.
	* μ΄λ° λ°©λ²•μΌλ΅ μ½”λ“λ¥Ό μ§λ©΄, μ½”λ“μ—μ„ `@Autowired`κ°€ μ μ  μ‚¬λΌμ§€κ³  μ½”λ“κ°€ μ μ  κΉ”λ”ν•΄μ§ κ²ƒ.
	* μ΄λ° κ³Όμ •μ„ μ•κ³  μμ§€ λ»ν•  κ²½μ°, μ½”λ“κ°€ νΌλ€μ¤λ¬μ› μ§ μ—Όλ ¤λ„ μλ‹¤.
* ν•„λ“λ‚ Setterμ— `@Autowired`λ¥Ό λ¶™μΌ μ μμ
* λ°λ“μ‹ ν•„μ”ν• μμ΅΄μ„±μ΄λΌλ©΄ μƒμ„±μλ¥Ό μ¶”μ²ν•κ³ , Setterλ¥Ό κ°€μ§€κ³  μλ‹¤λ©΄ Setterμ— λ¶™μ΄κ³ , μ•„λ‹λ©΄ ν•„λ“μ— λ¶™μ΄λ” κ²ƒμ„ κ¶μ¥.
	* Setterκ°€ μλ” κ²½μ°, Setterλ¥Ό μ΄μ©ν•΄μ„ μμ΅΄μ„±μ„ λ³€κ²½ν•λ ¤λ” κ²ƒμ΄λ―€λ΅ Setterμ— λ¶™μ΄λ” κ²ƒμ΄ μμ—°μ¤λ¬μΈ κ²ƒ
	* Setterκ°€ μ—†λ”λ° κµ³μ΄ Setterλ¥Ό μ¶”κ°€ν•΄μ„ `@Autowired`λ¥Ό λ¶™μΌ ν•„μ”λ” μ—†μ. μ¤νλ ¤ λ‚μ¤‘μ— λ³€κ²½μ΄ λ κ²ƒμ΄λΌλ” νΌλ€μ„ (νΉμ€ λ³€κ²½λ  κ°€λ¥μ„±μ„ μ£Όλ” μ„ν—μ„) μ¶”κ°€ν•  μ μμ.

### π“ AOP(Aspect Oriented Programming) μ†κ°
* **ν©μ–΄μ§„ μ½”λ“λ¥Ό ν• κ³³μΌλ΅ λ¨μΌλ”** μ½”λ”© κΈ°λ²•
* ν©μ–΄μ§„ μ½”λ“λ¥Ό λ¨μΌκΈ° μ„ν•΄μ„ ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•  μ μμ. μ¤ν”„λ§ AOPλ” ν”„λ΅μ‹ ν¨ν„΄μ„ μ‚¬μ©ν•κ³  μμ
* λ°λ³µλλ” ν©μ–΄μ§„ μ½”λ“λ” ν• κ³³μΌλ΅ λ¨μΌκ³  κ°κ°μ ν΄λμ¤λ” λ³ΈμΈμ΄ ν•΄μ•Όν•  μΌμ— μ§‘μ¤‘ν•  μ μλ„λ΅ ν•¨
