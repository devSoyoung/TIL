# [TIL] 2020-04-17

## ğŸ’» ì½”ë”©í…ŒìŠ¤íŠ¸ ë¬¸ì œí’€ì´: 17144ë²ˆ ë¯¸ì„¸ë¨¼ì§€, ì•ˆë…•!
> ë¬¸ì œê°€ ê³§ ë‚´ ë§ˆìŒ..  

ë¬¸ì œ : [17144ë²ˆ: ë¯¸ì„¸ë¨¼ì§€ ì•ˆë…•!](https://www.acmicpc.net/problem/17144)

```java
package com.company;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class FineDustProblem {
    private static int r, c, t;
    private static int up_x, up_y;          // ìœ„ ì²­ì†Œê¸°: ë°˜ì‹œê³„ ë°©í–¥
    private static int down_x, down_y;      // ì•„ë˜ ì²­ì†Œê¸°: ì‹œê³„ ë°©
    private static int[][] map;
    private static int total_dust = 0;

    public static void main() throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        r = Integer.parseInt(st.nextToken());
        c = Integer.parseInt(st.nextToken());
        t = Integer.parseInt(st.nextToken());

        map = new int[r][c];

        boolean isCheckPurifier = false;
        for (int i = 0; i < r; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < c; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
                if (map[i][j] == -1) {
                    // ì²­ì†Œê¸° ìœ„ì¹˜ í‘œì‹œí•˜ê¸°
                    if (!isCheckPurifier) {
                        isCheckPurifier = true;
                        up_x = j;
                        up_y = i;
                    } else {
                        down_x = j;
                        down_y = i;
                    }
                }
            }
        }

        for (int i = 0; i < t; i++) {
            dustSpread();
            purifierWork();
        }

        // ì´ ë¨¼ì§€ì˜ ì–‘ ê³„ì‚°í•˜ê¸°
        for (int i = 0; i < r; i++) {
            for (int j = 0; j < c; j++) {
                if (map[i][j] != -1) {
                    total_dust += map[i][j];
                }
            }
        }
        System.out.println(total_dust);
    }

    private static int[] dirX = { 0, 0, -1, 1 };
    private static int[] dirY = { -1, 1, 0, 0 };

    public static void dustSpread() {
        // map ì¹´í”¼
        int[][] new_map = new int[r][c];
        for (int i = 0; i < r; i++) {
            for (int j = 0; j < c; j++) {
                new_map[i][j] = map[i][j];
            }
        }

        // ì „ì²´ ë§µì„ ëŒë©´ì„œ ê° ë¨¼ì§€ í™•ì¸í•˜ê¸°
        for (int i = 0; i < r; i++) {
            for (int j = 0; j < c; j++) {
                if (map[i][j] != -1 && map[i][j] != 0) {
                    // ì´ ì¹¸ì—ì„œ í™•ì‚°ëœ ì£¼ë³€ ë°©í–¥ì˜ ê°¯ìˆ˜
                    int spread_count = 0;
                    int spread_amount = map[i][j] / 5;
                    for (int dir = 0; dir < 4; dir++) {
                        // í™•ì‚°ë  ìœ„ì¹˜ ì°¾ê¸°
                        int next_x = j + dirX[dir], next_y = i + dirY[dir];

                        // ì¹¸ì´ ì—†ìœ¼ë©´ ê·¸ ë°©í–¥ìœ¼ë¡œëŠ” í™•ì‚°ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
                        if (!isValidPosition(next_x, next_y)) continue;
                        // ì¸ì ‘í•œ ë°©í–¥ì— ê³µê¸°ì²­ì •ê¸°ê°€ ìˆìœ¼ë©´ í™•ì‚°ì´ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
                        if (map[next_y][next_x] == -1) continue;

                        // í™•ì‚°ì´ ì¼ì–´ë‚œë‹¤
                        spread_count += 1;
                        new_map[next_y][next_x] += spread_amount;
                    }
                    // í™•ì‚° í›„ í•´ë‹¹ ì¹¸ì— ë‚¨ì€ ì–‘
                    new_map[i][j] -= (spread_amount * spread_count);
                }
            }
        }
        map = new_map;
    }

    public static boolean isValidPosition(int x, int y) {
        return x >= 0 && y >= 0 && x < c && y < r;
    }

    public static void purifierWork() {
        // ìœ„ìª½ ì²­ì†Œê¸° ì‘ë™
        for (int i = up_y - 1; i > 0; i--) {
            map[i][0] = map[i - 1][0];
        }
        for (int i = 0; i < c - 1; i++) {
            map[0][i] = map[0][i + 1];
        }
        for (int i = 0; i < up_y; i++) {
            map[i][c - 1] = map[i + 1][c - 1];
        }
        for (int i = c - 1; i > 1; i--) {
            map[up_y][i] = map[up_y][i - 1];
        }
        map[up_y][1] = 0;

        // ì•„ë˜ìª½ ì²­ì†Œê¸° ì‘ë™
        for (int i = down_y + 1; i < r - 1; i++) {
            map[i][0] = map[i + 1][0];
        }
        for (int i = 0; i < c - 1; i++) {
            map[r - 1][i] = map[r - 1][i + 1];
        }
        for (int i = r - 1; i > down_y; i--) {
            map[i][c - 1] = map[i - 1][c - 1];
        }
        for (int i = c - 1; i > 1; i--) {
            map[down_y][i] = map[down_y][i - 1];
        }
        map[down_y][1] = 0;
    }
}
```

ìš” ë¬¸ì œë„ ê¸°ë³¸ì ì¸ 4ë°©í–¥ ì´ë™ ì‹œë®¬ë ˆì´ì…˜ ë¬¸ì œì˜€ê³ , BFS/DFS ì´ëŸ°ê±° í•„ìš”ë„ ì—†ì´ ê·¸ëƒ¥ ì‹œí‚¤ëŠ” ëŒ€ë¡œë§Œ í™•ì¸í•˜ë©´ ë¨. ë‹¤ë§Œ ê³µê¸°ì²­ì •ê¸°ë¥¼ ì‘ë™í•˜ëŠ” ì½”ë“œëŠ” ì •ë§ ì €ê²Œ ìµœì„ ì¼ê¹Œ í•˜ëŠ” ìƒê°ì´ ë“¤ì—ˆìŒ. ê·¸ë¦¬ê³  ë‚œ ì—­ì‹œ ì´ì°¨ì› ë°°ì—´ì€ ì¶œë ¥í•´ë´ì•¼í•œë‹¤. ì•„ë‹ˆë©´ ë””ë²„ê¹…ì´ ì•ˆëœë‹¤~

### ğŸ“ í•¨ì • í¬ì¸íŠ¸
* mapì„ ì¹´í”¼í•˜ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ í–ˆì„ ê²½ìš°, ìœ„ì—ì„œ ì•„ë˜ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ë§µì„ ì ê²€í•  ë•Œ, í™•ì‚°ëœ ë¯¸ì„¸ë¨¼ì§€ë¥¼ ì¬í™•ì‚°ì‹œí‚¤ëŠ” ì¼€ì´ìŠ¤ê°€ ë°œìƒí•œë‹¤.
* ë°”ëŒì´ ë‚˜ì˜¤ëŠ” ë°©í–¥ì˜ ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ë¨¼ì§€ì˜ ìœ„ì¹˜ë¥¼ ì´ë™ì‹œì¼œ ì¤˜ì•¼ í•œë‹¤.
