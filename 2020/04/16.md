# [TIL] 2020-04-16

## ğŸŒ ì¡°í•© ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„í•˜ê¸°
> **Ref** : [ì¡°í•© Combination (Java) :: ë±€ê·¤ ë¸”ë¡œê·¸](https://bcp0109.tistory.com/15)  

* **ì¡°í•©** : n ê°œì˜ ìˆ«ì ì¤‘ì—ì„œ r ê°œë¥¼ **ìˆœì„œ ì—†ì´** ë½‘ëŠ” ê²½ìš°
	* ìˆœì„œê°€ ì—†ë‹¤ëŠ” ê²ƒì€ `[1, 2]`ì™€ `[2, 1]`ì„ êµ¬ë¶„í•˜ì§€ ì•Šê³  í•˜ë‚˜ë¡œ ë³¸ë‹¤ëŠ” ê²ƒ

## ğŸŒ [ì•Œê³ ë¦¬ì¦˜] ë°±íŠ¸ë˜í‚¹(Back Tracking)
> **Ref** : [ì•Œê³ ë¦¬ì¦˜ Backtracking ì´í•´í•˜ê¸° - Jeong Dowon - Medium](https://medium.com/@jeongdowon/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-backtracking-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-13492b18bfa1)  

* ê°€ëŠ¥í•œ ëª¨ë“  ê²½ìš°ë¥¼ ê³ ë ¤í•˜ëŠ” ì¼ë°˜ì ì¸ ì•Œê³ ë¦¬ì¦˜ ì¤‘ í•˜ë‚˜
* CSP(Constrain Satisfaction Problems)ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë¨
* CSP : ì¡°ê±´ ë§Œì¡± ë¬¸ì œ
* ë°±íŠ¸ë˜í‚¹ : ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ëª¨ë“  ì¡°í•©ì˜ ìˆ˜

## ğŸ’» ì½”ë”©í…ŒìŠ¤íŠ¸ ë¬¸ì œí’€ì´ : 14502ë²ˆ ì—°êµ¬ì†Œ
ë¬¸ì œ : [14502ë²ˆ: ì—°êµ¬ì†Œ](https://www.acmicpc.net/problem/14502)

```java
package com.company;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.LinkedList;
import java.util.Queue;
import java.util.Stack;
import java.util.StringTokenizer;

public class LaboratoryProblem {
    private static int x, y;        // x: ê°€ë¡œ ê°¯ìˆ˜(ì—´), y: ì„¸ë¡œ ê°¯ìˆ˜(í–‰)
    private static char[][] map;

    static class Position {
        int pos_x, pos_y;

        Position(int x, int y) {
            this.pos_x = x;
            this.pos_y = y;
        }
    }

    static class Laboratory {
        char[][] lab_map;
        int safe_zone = 0;

        // ë”¥ ì¹´í”¼
        Laboratory(Position[] walls) {
            this.lab_map = new char[y][x];
            for (int i = 0; i < y; i++) {
                if (x >= 0) System.arraycopy(map[i], 0, lab_map[i], 0, x);
            }

            for (Position wall: walls) {
                lab_map[wall.pos_y][wall.pos_x] = '#';
            }
        }

        // ë°”ì´ëŸ¬ìŠ¤ í¼ëœ¨ë¦¬ê¸°
        void spreadVirus() {
            // ìµœì´ˆ ë°”ì´ëŸ¬ìŠ¤ ëª©ë¡ íƒìƒ‰
            Stack<Position> virus = new Stack<>();
            for (int i = 0; i < lab_map.length; i++) {
                for (int j = 0; j < lab_map[i].length; j++) {
                    if (lab_map[i][j] == 'V') {
                        virus.push(new Position(j, i));
                    }
                }
            }

            int[] dirX = { 0, 0, -1, 1 };
            int[] dirY = { -1, 1, 0, 0 };
            while (!virus.isEmpty()) {
                Position cur = virus.pop();
                for (int i = 0; i < 4; i++) {
                    int new_x = cur.pos_x + dirX[i];
                    int new_y = cur.pos_y + dirY[i];
                    if (new_x >= 0 && new_x < x && new_y >= 0 && new_y < y) {
                        if (lab_map[new_y][new_x] == '\0') {
                            lab_map[new_y][new_x] = 'V';
                            virus.push(new Position(new_x, new_y));
                        }
                    }
                }
            }
        }

        // ë°”ì´ëŸ¬ìŠ¤ ì „íŒŒ í›„ ì•ˆì „ êµ¬ì—­ ì„¸ê¸°
        int getSafeZoneAfterSpread() {
            spreadVirus();
            for (char[] row: lab_map) {
                for (char position: row) {
                    if (position == '\0') {
                        safe_zone += 1;
                    }
                }
            }
            return safe_zone;
        }
    }

    public static void main() throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        y = Integer.parseInt(st.nextToken());
        x = Integer.parseInt(st.nextToken());
        map = new char[y][x];

        for (int i = 0; i < y; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < x; j++) {
                int tmp = Integer.parseInt(st.nextToken());
                if (tmp == 1) {
                    map[i][j] = â€˜#â€™;    // ë²½ ì„¸ìš°ê¸°
                } else if (tmp == 2) {
                    map[i][j] = 'V';    // ë°”ì´ëŸ¬ìŠ¤
                }
            }
        }

        // ë¹ˆì¹¸ ì„¸ìš°ê¸°: ê°€ëŠ¥í•œ ëª¨ë“  ìœ„ì¹˜ì— ë‹¤ ì„¸ì›Œì„œ ë¹„êµí•˜ê¸°(?)
        // ë¹ˆì¹¸ ëª©ë¡ ë„£ê¸°
        LinkedList<Position> empty_list = new LinkedList<>();
        for (int i = 0; i < y; i++) {
            for (int j = 0; j < x; j++) {
                if (map[i][j] == '\0') {
                    empty_list.add(new Position(j, i));
                }
            }
        }

        Queue<Position[]> list = new LinkedList<>();
        for (int i = 0; i < empty_list.size() - 2; i++) {
            for (int j = i + 1; j < empty_list.size() - 1; j++) {
                for (int k = j + 1; k < empty_list.size(); k++) {
                    Position[] tmp_pos = new Position[3];
                    tmp_pos[0] = empty_list.get(i);
                    tmp_pos[1] = empty_list.get(j);
                    tmp_pos[2] = empty_list.get(k);
                    list.offer(tmp_pos);
                }
            }
        }

        // ì „ì²´ ì¡°í•© ëŒë©´ì„œ ìµœëŒ“ê°’ ì°¾ê¸°
        int result = 0;
        while(!list.isEmpty()) {
            Position[] cur_pos = list.poll();
            Laboratory lab = new Laboratory(cur_pos);  // TODO: íŒŒë¼ë¯¸í„°ë¡œ ë²½ ë„£ì–´ì£¼ê¸°

            int cur_safe_zone = lab.getSafeZoneAfterSpread();
            if (cur_safe_zone > result) {
                result = cur_safe_zone;
            }
        }

        System.out.println(result);
    }
}
```

ì´ê±° ì‘ë…„ì— ì¸í„´ ì‹œí—˜ ë•Œ í’€ì—ˆë˜(êµ¬ê²½ë§Œ í–ˆë˜) ë¬¸ì  ë° ë“œë””ì–´ í’€ì—ˆë‹¤! ì´ì œ ìë°”ë¡œ í‘¸ëŠ” ê²ƒë„ ìª¼ë”ì”© ìµìˆ™í•´ì ¸ ê°€ê³  ìˆë‹¤. ì‚¬ì‹¤ ì‚¼ì„± ìœ í˜• ì¤‘ì—ì„œë„ ë¹„ìŠ·í•œ ê²ƒë§Œ í’€ê³  ìˆì–´ì„œ ê·¸ë ‡ê²Œ ëŠë¼ëŠ” ê±¸ì§€ë„.. 

* ì¡°í•© êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ìƒˆë¡œ ì°¾ì•„ë´¤ë‹¤. ê°„ë‹¨í•œê±´ë° ìˆœì—´ê³¼ ì¡°í•©ì´ í—·ê°ˆë¦¬ëŠ” ë‚˜ëŠ” ì•Œì•Œëª»ğŸ˜­(ì•Œê³ ë¦¬ì¦˜ ì•Œëª»..)
* ì½”ë“œëŠ” ë¬¼ë¡  ë” ì§§ê²Œ ì§œëŠ” ë°©ë²•ë„ ìˆê² ì§€ë§Œ ì§€ê¸ˆì€ ê·¸ëŸ´ ë ˆë²¨ì´ ì•„ë‹ˆë‹¤.
* ë¨¸ë¦¿ì†ì—ì„œ íšŒì „ì´ ë¹¨ë¦¬ ì•ˆë˜ì–´ì„œ ìê¾¸ ì°ì–´ë³´ë©´ì„œ êµ¬í˜„í•˜ë‹¤ë³´ë‹ˆê¹Œ ì‹œê°„ì´ ê½¤ ì˜¤ë˜ ê±¸ë¦°ë‹¤. ê·¼ë° ì•ˆì°ì–´ë³´ë©´ ì–´ë””ì„œ ì˜ëª» ì“´ì§€ë„ ëª¨ë¥´ê¸°ë•Œë¬¸ì— ë‚˜í•œí…ŒëŠ” ìµœì„ ì˜ ë°©ë²•..
* ìƒí•˜ì¢Œìš° ë„¤ ë°©í–¥ ì´ë™ ë¬¸ì œëŠ” í•„ìˆ˜ë¼ê³  í•  ì •ë„ë¡œ í’€ì—ˆë˜ ëª¨ë“  ë¬¸ì œì—ì„œ ë‹¤ ë‚˜ì˜¤ê³  ìˆë‹¤.

ì£¼ì–´ì§€ëŠ” ë§µ í¬ê¸°ê°€ ì‘ì•„ì„œ ê°€ëŠ¥í•œ ë²½ì„ ë‹¤ ì„¸ì›Œë³´ê³  ë°”ì´ëŸ¬ìŠ¤ë¥¼ ì „íŒŒí•´ì„œ ì•ˆì „êµ¬ì—­ì„ ì„¸ëŠ” ë°©ì‹ìœ¼ë¡œ í•˜ë©´ ëœë‹¤. ë°”ì´ëŸ¬ìŠ¤ ì „íŒŒì—ì„œ DFS/BFSë¥¼ ì‚¬ìš©í•˜ë©´ ë¨. ì´ì œ BFS/DFS êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ê½¤ ìµìˆ™í•´ì§„ ê²ƒ ê°™ë‹¤. í‘¸ëŠ”ë°ëŠ” í•œì‹œê°„ ë°˜ì •ë„ ê±¸ë ¸ìœ¼ë‹ˆê¹Œ ë¬¸ì œë‹¤. ğŸ¤¢

## ğŸ’» ì½”ë”©í…ŒìŠ¤íŠ¸ ë¬¸ì œí’€ì´ : 14503ë²ˆ ë¡œë´‡ ì²­ì†Œê¸°

```java
package com.company;

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class CleanerProblem {
    private static int n, m;
    private static int y, x, dir;
    private static char[][] map;

    public static void main() throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());
        map = new char[n][m];

        st = new StringTokenizer(br.readLine());
        y = Integer.parseInt(st.nextToken());
        x = Integer.parseInt(st.nextToken());
        dir = Integer.parseInt(st.nextToken());

        for (int i = 0; i < n; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < m; j++) {
                int temp = Integer.parseInt(st.nextToken());
                if (temp == 1) {
                    map[i][j] = '#';
                }
            }
        }

        int[] dirX = { 0, 1, 0, -1 };   // ë¶ ë™ ë‚¨ ì„œ
        int[] dirY = { -1, 0, 1, 0 };

        // ëª¨ë‘ ì²­ì†Œí–ˆê±°ë‚˜, ë²½ì´ê±°ë‚˜, ë’¤ìª½ì´ ë²½ì´ë¼ì„œ í›„ì§„í•  ìˆ˜ ì—†ëŠ” ê²½ìš° ì¢…ë£Œ
        int clean_count = 0;
        boolean should_clean = true;
        while (true) {
            // 1. í˜„ì¬ ìœ„ì¹˜ ì²­ì†Œí•˜ê¸°
            if (should_clean) {
                map[y][x] = â€˜Câ€™;
                clean_count += 1;
            }

            // 2. ì™¼ìª½ ë°©í–¥ë¶€í„° íƒìƒ‰í•˜ê¸°
            boolean didClean = false;
            for (int i = 0; i < 4; i++) {
                rotate();
                int target_y = y + dirY[dir];
                int target_x = x + dirX[dir];

                // ì²­ì†Œí•˜ì§€ ì•Šì€ ê²½ìš°
                if (map[target_y][target_x] == '\0') {
                    x = target_x;
                    y = target_y;
                    didClean = true;
                    should_clean = true;
                    break;
                }
            }

            // ë„¤ ë°©í–¥ ëª¨ë‘ ì´ë¯¸ ì²­ì†Œê°€ ëœ ê²½ìš°
            if (didClean) {
                continue;
            }

            should_clean = false;
            // í›„ì§„í•  ìœ„ì¹˜ ì°¾ê¸°
            int back_dir = getBackDir();
            x += dirX[back_dir];
            y += dirY[back_dir];

            // í›„ì§„ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸í•˜ê¸°: ë¶ˆê°€ëŠ¥í•˜ë©´ ì¢…ë£Œ
            if (map[y][x] == â€˜#â€™) {
                break;
            }
        }
        System.out.println(clean_count);
    }

    public static int getBackDir() {
        int temp = dir - 2;
        if (temp < 0) {
            temp += 4;
        }
        return temp;
    }

    public static void rotate() {
        dir -= 1;
        if (dir < 0) {
            dir += 4;
        }
    }
}
```

4ë°©í–¥ ì´ë™ ì‹œë®¬ë ˆì´ì…˜ ê°„ë‹¨í•œ ë¬¸ì œ. ì •ë‹µë¥ ë„ 50%. ì¡°ê±´ì— ë”°ë¼ì„œ ë°˜ë³µë§Œ ëŒë©´ ë˜ê¸° ë•Œë¬¸ì— íŠ¹ë³„íˆ ì–´ë ¤ìš´ ë¶€ë¶„ì€ ì—†ë‹¤.
